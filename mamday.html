<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>Happy Mother's Day!</title>
  <style>
    body {
      margin: 0;
      padding: 0;
      overflow: hidden;
      background-color: #ffddee;
      font-family: 'Arial', sans-serif;
      text-align: center;
      position: relative;
      touch-action: manipulation;
    }
    
    /* Rose background */
    .bg-rose {
      position: absolute;
      width: 60px;
      height: 60px;
      z-index: 0;
      opacity: 0.15;
      pointer-events: none;
    }
    
    .container {
      position: relative;
      width: 100vw;
      height: 100vh;
      height: calc(var(--vh, 1vh) * 100);
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      overflow: hidden;
    }
    
    .title {
      font-size: 48px;
      color: #ff66aa;
      text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2), 0 0 15px #ffaadd;
      margin-bottom: 20px;
      z-index: 10;
      font-family: 'Comic Sans MS', cursive, sans-serif;
      animation: sparkle 2s infinite alternate;
    }
    
    @keyframes sparkle {
      0% { text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2), 0 0 10px #ffaadd; }
      100% { text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2), 0 0 20px #ff66aa, 0 0 40px #ff88cc; }
    }
    
    .present {
      width: 100px;
      height: 100px;
      background-color: #ff55aa;
      position: relative;
      cursor: pointer;
      margin: 40px auto;
      z-index: 10;
      transition: transform 0.3s;
      box-shadow: 3px 3px 10px rgba(0, 0, 0, 0.2);
    }
    
    /* Base ribbons */
    .present:before {
      content: '';
      position: absolute;
      width: 100%;
      height: 20px;
      background-color: #ff99cc;
      top: -10px;
      left: 0;
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
    }
    
    .present:after {
      content: '';
      position: absolute;
      height: 100%;
      width: 20px;
      background-color: #ff99cc;
      top: 0;
      left: 40px;
      box-shadow: 2px 0 5px rgba(0, 0, 0, 0.1);
    }
    
    /* Ribbon bow */
    .ribbon-bow {
      position: absolute;
      width: 50px;
      height: 30px;
      top: -25px;
      left: 25px;
      z-index: 11;
    }
    
    /* Gift tag */
    .gift-tag {
      position: absolute;
      width: 30px;
      height: 40px;
      background-color: #ffffff;
      top: 20px;
      right: -15px;
      z-index: 11;
      transform: rotate(10deg);
      box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.2);
      display: flex;
      justify-content: center;
      align-items: center;
      font-family: 'Comic Sans MS', cursive, sans-serif;
      font-weight: bold;
      color: #ff55aa;
      font-size: 9px;
      border-radius: 3px;
      border: 1px dashed #ff88cc;
    }
    
    .present:hover {
      transform: scale(1.1);
    }
    
    .cat {
      position: absolute;
      width: 40px;
      height: 40px;
      z-index: 1;
    }
    
    .letter {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 80%;
      max-width: 500px;
      background-color: white;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 0 20px rgba(0, 0, 0, 0.3);
      z-index: 100;
      display: none;
      text-align: left;
    }
    
    .letter-content {
      font-size: 18px;
      line-height: 1.6;
      color: #333;
      background: linear-gradient(to bottom right, #ffe6f2, #ffbbdd);
      border-radius: 8px;
      padding: 20px;
      box-shadow: inset 0 0 10px rgba(255, 102, 170, 0.3);
      border: 2px dashed #ff66aa;
    }
    
    .close-btn {
      position: absolute;
      top: 10px;
      right: 10px;
      background: none;
      border: none;
      font-size: 20px;
      cursor: pointer;
      color: #ff66aa;
    }
    
    .signature {
      font-style: italic;
      margin-top: 20px;
    }
    
    .confetti {
      position: absolute;
      width: 10px;
      height: 10px;
      opacity: 0;
      z-index: 50;
    }
    
    .coin {
      position: absolute;
      width: 20px;
      height: 20px;
      background-color: gold;
      border-radius: 50%;
      z-index: 50;
      opacity: 0;
    }
    
    .rose {
      position: absolute;
      width: 40px;
      height: 40px;
      z-index: 50;
      opacity: 0;
    }
    
    .overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.5);
      z-index: 90;
      display: none;
    }
    
    @media (max-width: 768px) {
      .title {
        font-size: 32px;
        margin-top: 60px;
      }
      
      .letter-content {
        font-size: 16px;
      }
      
      .bg-rose {
        width: 40px;
        height: 40px;
      }
      
      .present {
        transform: scale(0.9);
      }
      
      .gift-tag {
        right: -12px;
      }
    }
    
    @media (max-width: 480px) {
      .title {
        font-size: 28px;
        margin-top: 40px;
      }
      
      .present {
        transform: scale(0.8);
      }
      
      .letter {
        width: 90%;
        max-width: 90%;
      }
      
      .letter-content {
        padding: 15px;
      }
      
      .bg-rose {
        opacity: 0.1;
      }
    }
  </style>
</head>
<body>
  <!-- Rose background will be added here by JavaScript -->
  
  <div class="container">
    <h1 class="title">Happy Mother's Day!</h1>
    <div class="present" id="present">
      <svg class="ribbon-bow" viewBox="0 0 100 60" xmlns="http://www.w3.org/2000/svg">
        <path d="M50,10 C60,0 80,10 70,25 C80,40 60,50 50,40 C40,50 20,40 30,25 C20,10 40,0 50,10" fill="#ff66aa" />
        <rect x="48" y="25" width="4" height="20" fill="#ff66aa" />
      </svg>
      <div class="gift-tag">MOM</div>
    </div>
  </div>
  
  <div class="overlay" id="overlay"></div>
  
  <div class="letter" id="letter">
    <button class="close-btn" id="closeBtn">Ã—</button>
    <div class="letter-content">
      <p>Dear Mama,</p>
      <p>Happy Mama Day! You are best mama ever, thank you for taking care of me, out of the millions of moms out there, you are the only one for US.</p>
      <p>Your cooking very nice, i like your mala, and everything, i will also try my best to help out around the house and today is very special day because mama day.</p>
      <p>I know i dont show my love much, but just know that I care for you very much, even though sometimes I dont show it.</p>
      <p class="signature">- Fatty BomBom</p>
    </div>
  </div>

  <script>
    // Add roses to background
    function createBackgroundRoses() {
      const roseColors = ['#ff9999', '#ff6666', '#ff3333', '#e60000', '#ffccdd'];
      const totalRoses = 15; // Adjust number of roses
      
      for (let i = 0; i < totalRoses; i++) {
        createBackgroundRose(roseColors);
      }
    }
    
    function createBackgroundRose(roseColors) {
      const rose = document.createElement('div');
      rose.className = 'bg-rose';
      
      // Random position
      const x = Math.random() * window.innerWidth;
      const y = Math.random() * window.innerHeight;
      rose.style.left = x + 'px';
      rose.style.top = y + 'px';
      
      // Random rotation
      const rotation = Math.random() * 360;
      rose.style.transform = rotate(${rotation}deg);
      
      // Random rose color
      const roseColor = roseColors[Math.floor(Math.random() * roseColors.length)];
      
      // SVG rose with random color
      const roseHtml = 
        <svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
          <path d="M50,15 C65,5 85,15 50,40 C15,15 35,5 50,15" fill="${roseColor}" />
          <path d="M50,20 C70,10 75,35 50,50 C25,35 30,10 50,20" fill="${roseColor}" />
          <path d="M50,45 C70,35 75,65 50,80 C25,65 30,35 50,45" fill="${roseColor}" />
          <path d="M50,95 L50,50" stroke="#00aa00" stroke-width="5" />
          <path d="M50,65 L35,75" stroke="#00aa00" stroke-width="3" />
          <path d="M50,75 L65,85" stroke="#00aa00" stroke-width="3" />
        </svg>
      ;
      
      rose.innerHTML = roseHtml;
      document.body.appendChild(rose);
      
      // Subtle animation
      setInterval(() => {
        const newRotation = rotation + (Math.random() * 5 - 2.5);
        rose.style.transform = rotate(${newRotation}deg);
      }, 5000 + Math.random() * 3000);
    }
    
    // Create pixel art cats for background
    const container = document.querySelector('.container');
    const catColors = ['#555', '#777', '#999', '#333', '#444'];
    const catPositions = [];
    
    for (let i = 0; i < 20; i++) {
      createPixelCat();
    }
    
    function createPixelCat() {
      const cat = document.createElement('div');
      cat.className = 'cat';
      
      // Set random position ensuring cats aren't too close to each other
      let validPosition = false;
      let x, y;
      
      while (!validPosition) {
        x = Math.random() * (window.innerWidth - 60);
        y = Math.random() * (window.innerHeight - 60);
        
        validPosition = true;
        for (const pos of catPositions) {
          const distance = Math.sqrt(Math.pow(x - pos.x, 2) + Math.pow(y - pos.y, 2));
          if (distance < 100) { // Minimum distance between cats
            validPosition = false;
            break;
          }
        }
      }
      
      catPositions.push({ x, y });
      cat.style.left = x + 'px';
      cat.style.top = y + 'px';
      
      // Create cat pixel art
      const color = catColors[Math.floor(Math.random() * catColors.length)];
      const catShape = [
        '  â– â–   â– â–   ',
        ' â– â– â– â– â– â– â– â–  ',
        'â– â– â– â– â– â– â– â– â– â– ',
        'â– â– â– â–¡â– â– â–¡â– â– â– ',
        'â– â– â– â– â– â– â– â– â– â– ',
        ' â– â– â– â–¼â–¼â– â– â–  ',
        '  â– â– â– â– â– â–   ',
        ' â–   â– â–   â–  '
      ];
      
      let catHtml = '<div style="display:grid; grid-template-columns: repeat(10, 4px); grid-template-rows: repeat(8, 4px);">';
      
      for (let row of catShape) {
        for (let cell of row) {
          if (cell === 'â– ') {
            catHtml += <div style="width:4px;height:4px;background-color:${color};"></div>;
          } else if (cell === 'â–¡') {
            catHtml += '<div style="width:4px;height:4px;background-color:#fff;"></div>';
          } else if (cell === 'â–¼') {
            catHtml += '<div style="width:4px;height:4px;background-color:#ff9999;"></div>';
          } else {
            catHtml += '<div style="width:4px;height:4px;"></div>';
          }
        }
      }
      
      catHtml += '</div>';
      cat.innerHTML = catHtml;
      container.appendChild(cat);
      
      // Add some movement to cats
      setInterval(() => {
        const direction = Math.floor(Math.random() * 4);
        const currentX = parseFloat(cat.style.left);
        const currentY = parseFloat(cat.style.top);
        
        switch(direction) {
          case 0: // up
            if (currentY > 10) cat.style.top = (currentY - 10) + 'px';
            break;
          case 1: // right
            if (currentX < window.innerWidth - 50) cat.style.left = (currentX + 10) + 'px';
            break;
          case 2: // down
            if (currentY < window.innerHeight - 50) cat.style.top = (currentY + 10) + 'px';
            break;
          case 3: // left
            if (currentX > 10) cat.style.left = (currentX - 10) + 'px';
            break;
        }
      }, 3000 + Math.random() * 2000); // Random movement every 3-5 seconds
    }
    
    // Handle present click
    const present = document.getElementById('present');
    const letter = document.getElementById('letter');
    const overlay = document.getElementById('overlay');
    const closeBtn = document.getElementById('closeBtn');
    
    // Handle present click for both mouse and touch events
    present.addEventListener('click', openPresent);
    present.addEventListener('touchend', function(e) {
      e.preventDefault();
      openPresent();
    });
    
    function openPresent() {
      // Add a small pop animation to the present before hiding
      present.animate([
        { transform: 'scale(1)' },
        { transform: 'scale(1.2)' },
        { transform: 'scale(0)' }
      ], {
        duration: 500,
        easing: 'ease-out'
      }).onfinish = () => {
        present.style.display = 'none';
      };
      
      // Create confetti, coins and roses
      setTimeout(() => createConfetti(), 300);
      setTimeout(() => createCoins(), 300);
      setTimeout(() => createRoses(), 300);
      
      // Show overlay and letter after a delay
      setTimeout(() => {
        overlay.style.display = 'block';
        letter.style.display = 'block';
      }, 2500);
    }
    
    closeBtn.addEventListener('click', closeMessage);
    closeBtn.addEventListener('touchend', function(e) {
      e.preventDefault();
      closeMessage();
    });
    overlay.addEventListener('click', closeMessage);
    
    function closeMessage() {
      letter.style.display = 'none';
      overlay.style.display = 'none';
    }
    
    function createConfetti() {
      const colors = ['#ff5555', '#55ff55', '#5555ff', '#ffff55', '#ff55ff', '#55ffff'];
      
      for (let i = 0; i < 200; i++) {
        const confetti = document.createElement('div');
        confetti.className = 'confetti';
        confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
        
        // Initial position (exactly at the present)
        const presentRect = present.getBoundingClientRect();
        const startX = presentRect.left + presentRect.width / 2;
        const startY = presentRect.top + presentRect.height / 2;
        
        confetti.style.left = startX + 'px';
        confetti.style.top = startY + 'px';
        
        document.body.appendChild(confetti);
        
        // Animate confetti
        const angle = Math.random() * Math.PI * 2;
        const distance = 150 + Math.random() * 250;
        const destX = startX + Math.cos(angle) * distance;
        const destY = startY + Math.sin(angle) * distance;
        
        confetti.animate([
          { transform: 'translate(0, 0) rotate(0deg)', opacity: 0 },
          { transform: 'translate(0, 0) rotate(0deg)', opacity: 1, offset: 0.05 },
          { transform: translate(${destX - startX}px, ${destY - startY}px) rotate(${Math.random() * 720}deg), opacity: 0 }
        ], {
          duration: 2000 + Math.random() * 1000,
          easing: 'cubic-bezier(0.1, 0.8, 0.9, 0.2)'
        }).onfinish = () => confetti.remove();
      }
    }
    
    function createCoins() {
      for (let i = 0; i < 60; i++) {
        const coin = document.createElement('div');
        coin.className = 'coin';
        
        // Initial position (exactly at the present)
        const presentRect = present.getBoundingClientRect();
        const startX = presentRect.left + presentRect.width / 2;
        const startY = presentRect.top + presentRect.height / 2;
        
        coin.style.left = startX + 'px';
        coin.style.top = startY + 'px';
        
        document.body.appendChild(coin);
        
        // Animate coin
        const angle = Math.random() * Math.PI * 2;
        const distance = 100 + Math.random() * 200;
        const destX = startX + Math.cos(angle) * distance;
        const destY = startY + Math.sin(angle) * distance + 150; // Add stronger gravity effect
        
        coin.animate([
          { transform: 'translate(0, 0) rotate(0deg) scale(0.5)', opacity: 0 },
          { transform: 'translate(0, 0) rotate(0deg) scale(1)', opacity: 1, offset: 0.05 },
          { transform: translate(${destX - startX}px, ${destY - startY}px) rotate(${Math.random() * 1080}deg), opacity: 0 }
        ], {
          duration: 1500 + Math.random() * 800,
          easing: 'cubic-bezier(0.2, 0.8, 0.9, 1)'
        }).onfinish = () => coin.remove();
      }
    }
    
    function createRoses() {
      for (let i = 0; i < 30; i++) {
        const rose = document.createElement('div');
        rose.className = 'rose';
        
        // Draw rose
        const roseHtml = 
          <svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
            <path d="M50,30 C60,10 80,20 50,40 C20,20 40,10 50,30" fill="#ff5555" />
            <path d="M50,30 C70,20 70,40 50,50 C30,40 30,20 50,30" fill="#ff3333" />
            <path d="M50,50 C70,40 70,60 50,70 C30,60 30,40 50,50" fill="#e60000" />
            <path d="M50,85 L50,50" stroke="#00aa00" stroke-width="5" />
            <path d="M50,60 L40,70" stroke="#00aa00" stroke-width="3" />
            <path d="M50,70 L60,80" stroke="#00aa00" stroke-width="3" />
          </svg>
        ;
        rose.innerHTML = roseHtml;
        
        // Initial position (exactly at the present)
        const presentRect = present.getBoundingClientRect();
        const startX = presentRect.left + presentRect.width / 2;
        const startY = presentRect.top + presentRect.height / 2;
        
        rose.style.left = startX + 'px';
        rose.style.top = startY + 'px';
        
        document.body.appendChild(rose);
        
        // Animate rose
        const angle = Math.random() * Math.PI * 2;
        const distance = 150 + Math.random() * 200;
        const destX = startX + Math.cos(angle) * distance;
        const destY = startY + Math.sin(angle) * distance + 70;
        
        rose.animate([
          { transform: 'translate(0, 0) rotate(0deg) scale(0.5)', opacity: 0 },
          { transform: 'translate(0, 0) rotate(0deg) scale(1)', opacity: 1, offset: 0.05 },
          { transform: translate(${destX - startX}px, ${destY - startY}px) rotate(${Math.random() * 540}deg), opacity: 0.8 }
        ], {
          duration: 1800 + Math.random() * 1200,
          easing: 'cubic-bezier(0.2, 0.6, 0.8, 1)'
        }).onfinish = () => rose.remove();
      }
    }
    
    // Create background roses on page load
    window.addEventListener('load', () => {
      createBackgroundRoses();
    });
    
    // Fix for mobile device viewport height issues
    function setMobileHeight() {
      let vh = window.innerHeight * 0.01;
      document.documentElement.style.setProperty('--vh', ${vh}px);
      
      document.querySelector('.container').style.height = calc(var(--vh, 1vh) * 100);
    }
    
    window.addEventListener('resize', setMobileHeight);
    window.addEventListener('load', setMobileHeight);
    
    // Prevent scrolling on mobile while allowing touch interactions
    document.addEventListener('touchmove', function(e) {
      if(e.target.classList.contains('letter-content') || e.target.closest('.letter-content')) {
        // Allow scrolling within the letter content
        return true;
      } else {
        e.preventDefault();
      }
    }, { passive: false });
  </script>
</body>
</html>